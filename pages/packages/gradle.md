# Gradle

Buildkite Packages provides repository support for Gradle-based packages for Java using the [Maven Publish Plugin](https://docs.gradle.org/current/userguide/publishing_maven.html).

Once your Java (Gradle) package repository has been [created](/docs/packages/manage-repositories#create-a-repository), you can upload packages (generated from your application's build) to this repository by configuring your application's relevant `build.gradle` file presented on your Java (Gradle) package repository's details page.

To view and copy the required `build.gradle` configurations:

1. Select _Packages_ in the global navigation to access the _Repositories_ page.
1. Select your Java (Gradle) package repository on this page.
1. Expand _Publishing a package_ section and in the _Using Gradle with maven-publish plugin_ section, use the copy icon at the top-right of the code box to copy the Gradle code snippet and paste it into the appropriate area/s of your `build.gradle` file.

These `build.gradle` file configurations contain the Maven coordinates for your package (which you will need to manually configure yourself), the URL for your specific Java (Gradle) package repository in Buildkite, and authentication credentials (generated by Buildkite Packages) required to upload the package to this repository.

## Publish a package

The following steps describe the process above:

1. Copy, paste and modify the following Gradle snippet in your `gradle.build` file:

    ```gradle
    // You require these plugins
    // "java": To publish java libraries
    // "maven-publish": To publish to Maven repositories
    ["java", "maven-publish"].each {
        apply plugin : it
    }

    // Donwload standard plugins, e.g., maven-publish  from GradlePluginPortal
    repositories {
      gradlePluginPortal()
    }

    // Define Maven repository to publish to
    publishing {
      publications {
        maven(MavenPublication) {

          // MODIFY: Define your Maven coordinates of your package
          groupId = "com.your_domain_name"
          artifactId = "your_package_name"
          version = "your_package_version"

          // Tell gradle to publish project's jar archive
          from components.java
        }
      }

      repositories {
        maven {
          // Define the Buildkite repository to publish to
          url "https://buildkitepackages.com/{org.slug}/{java.gradle.package.repository.name}/java/maven2/"
          credentials {
            username = "java-gradle-package-repository-credentials"
            password = ""
          }
        }
      }
    }
    ```

1. Publish your package:

    ```bash
    gradle publish
    ```
